<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Landing Page Dokumentasi Pemasangan</title>

<style>
:root{
  --bg:#05070c;
  --card:#0b1020;
  --card2:#070b16;
  --text:#e7ecff;
  --muted:#9aa6c6;
  --line:#1a2140;
  --brand:#57d9ff;
  --brand2:#8b5cff;
  --good:#2ee59d;
  --warn:#ffcf5a;
  --shadow: 0 16px 55px rgba(0,0,0,.45);
  --radius:18px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background: radial-gradient(1200px 600px at 25% 10%, rgba(87,217,255,.18), transparent 55%),
              radial-gradient(1000px 500px at 80% 30%, rgba(139,92,255,.14), transparent 55%),
              radial-gradient(900px 500px at 50% 90%, rgba(46,229,157,.10), transparent 55%),
              var(--bg);
  color:var(--text);
  overflow-x:hidden;
}
a{color:inherit; text-decoration:none}
.container{width:min(1180px, 92vw); margin:0 auto}
header{
  position:relative;
  min-height: 92vh;
  display:flex;
  align-items:center;
  padding: 80px 0 40px;
}
.nav{
  position:fixed;
  inset: 18px 0 auto 0;
  z-index:20;
  pointer-events:none;
}
.nav .bar{
  pointer-events:auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  padding: 12px 16px;
  border:1px solid rgba(255,255,255,.08);
  background: rgba(10, 14, 28, .72);
  backdrop-filter: blur(10px);
  border-radius: 999px;
  box-shadow: 0 10px 35px rgba(0,0,0,.35);
}
.brand{
  display:flex;
  align-items:center;
  gap:10px;
  font-weight:700;
  letter-spacing:.2px;
}
.logo{
  width:34px;height:34px;border-radius:12px;
  background: linear-gradient(135deg, rgba(87,217,255,.9), rgba(139,92,255,.9));
  box-shadow: 0 12px 25px rgba(87,217,255,.12);
}
.menu{display:flex; align-items:center; gap:10px; flex-wrap:wrap}
.chip{
  font-size:12px;
  color:var(--muted);
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  padding: 7px 10px;
  border-radius:999px;
}
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding: 12px 16px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color:var(--text);
  cursor:pointer;
  transition:.18s ease;
  user-select:none;
}
.btn:hover{transform: translateY(-1px); background: rgba(255,255,255,.09)}
.btn.primary{
  border-color: rgba(87,217,255,.25);
  background: linear-gradient(135deg, rgba(87,217,255,.22), rgba(139,92,255,.18));
}
.hero{
  display:grid;
  grid-template-columns: 1.2fr .8fr;
  gap: 28px;
  align-items:center;
}
@media (max-width: 900px){
  header{min-height:auto; padding-top:110px}
  .hero{grid-template-columns:1fr}
}
.h-eyebrow{
  font-size:12px;
  letter-spacing:.22em;
  color:rgba(231,236,255,.78);
  opacity:.85;
}
.h-title{
  margin: 12px 0 10px;
  font-size: clamp(34px, 4.2vw, 58px);
  line-height:1.04;
}
.h-sub{
  margin: 0 0 18px;
  color: var(--muted);
  font-size: 15.5px;
  line-height:1.6;
}
.hero-actions{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  align-items:center;
}
.badges{
  margin-top:18px;
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}
.badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 9px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  color: rgba(231,236,255,.88);
  font-size:12px;
}
.dot{
  width:8px;height:8px;border-radius:99px;
  background: rgba(154,166,198,.55);
}
.dot.live{
  background: var(--good);
  box-shadow: 0 0 0 rgba(46,229,157,.55);
  animation: pulse 1.05s infinite;
}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(46,229,157,.45)}
  70%{box-shadow:0 0 0 10px rgba(46,229,157,0)}
  100%{box-shadow:0 0 0 0 rgba(46,229,157,0)}
}
.hero-card{
  border-radius: var(--radius);
  border:1px solid rgba(255,255,255,.10);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  box-shadow: var(--shadow);
  overflow:hidden;
}
.hero-card .inner{
  padding: 18px;
}
.hero-card .label{
  font-size:12px;
  color: rgba(231,236,255,.78);
  letter-spacing:.12em;
  opacity:.9;
}
.hero-card .big{
  margin: 8px 0 6px;
  font-weight:800;
  font-size: 18px;
}
.hero-card .small{
  margin:0;
  color: var(--muted);
  font-size: 13.5px;
  line-height:1.55;
}
.sep{height:1px; background: rgba(255,255,255,.08); margin:14px 0}
.kv{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}
.kv .k{
  padding:10px 12px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.09);
  background: rgba(0,0,0,.16);
}
.kv .k b{display:block; font-size:13px}
.kv .k span{display:block; color:var(--muted); font-size:12px; margin-top:2px}
.scrollHint{
  display:flex;
  align-items:center;
  gap:10px;
  margin-top: 18px;
  color: rgba(231,236,255,.82);
  opacity:.92;
}
.scrollHint .arrow{
  display:inline-block;
  transform: translateY(0);
  animation: bob 1.2s infinite;
}
@keyframes bob{
  0%,100%{transform: translateY(0)}
  50%{transform: translateY(3px)}
}

section{padding: 56px 0}
.section-title{
  display:flex;
  align-items:end;
  justify-content:space-between;
  gap:16px;
  margin-bottom: 16px;
}
.section-title h2{
  margin:0;
  font-size: 22px;
  letter-spacing:.2px;
}
.section-title p{
  margin:0;
  color: var(--muted);
  font-size: 13.5px;
}
.grid2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 22px;
}
@media (max-width: 980px){
  .grid2{grid-template-columns:1fr}
}
.card{
  border-radius: var(--radius);
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  box-shadow: var(--shadow);
}
.card.pad{padding: 18px}
.small-muted{color: var(--muted); font-size: 13px; line-height:1.55}

/* Timeline */
.timeline-wrap{
  padding: 20px 18px 20px 18px;
}
.timeline-h{
  font-size: 12px;
  letter-spacing:.20em;
  color: rgba(231,236,255,.70);
  margin-bottom:10px;
}
.timeline{
  position:relative;
  margin-top: 6px;
  padding-left: 26px;
}
.timeline:before{
  content:"";
  position:absolute;
  left: 9px;
  top: 8px;
  bottom: 8px;
  width: 2px;
  background: linear-gradient(180deg, rgba(87,217,255,.65), rgba(139,92,255,.15));
  border-radius: 99px;
}
.titem{
  position:relative;
  padding: 14px 0 14px 0;
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.titem:last-child{border-bottom:0}
.tdot{
  position:absolute;
  left:-26px;
  top: 20px;
  width: 16px;
  height: 16px;
  border-radius: 99px;
  background: rgba(87,217,255,.20);
  border: 1px solid rgba(87,217,255,.35);
  box-shadow: 0 0 0 0 rgba(87,217,255,.0);
  transition: .25s ease;
}
.tdot:after{
  content:"";
  position:absolute;
  inset: 4px;
  border-radius:99px;
  background: rgba(87,217,255,.45);
  opacity:.55;
}
.titem h3{
  margin:0 0 3px;
  font-size: 15.5px;
}
.titem p{
  margin:0;
  color: var(--muted);
  font-size: 13px;
  line-height:1.55;
}
.titem.active .tdot{
  background: rgba(87,217,255,.35);
  border-color: rgba(87,217,255,.75);
  box-shadow: 0 0 0 10px rgba(87,217,255,.08);
}
.titem.active .tdot:after{opacity:1}
.titem.done .tdot{
  background: rgba(46,229,157,.26);
  border-color: rgba(46,229,157,.55);
  box-shadow: 0 0 0 8px rgba(46,229,157,.08);
}
.titem.done .tdot:after{background: rgba(46,229,157,.85); opacity:1}

/* Right card (notes) */
.note-box{
  padding: 18px;
}
.note-box h3{margin:0 0 6px; font-size: 16px}
.tags{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
.tag{
  font-size:12px;
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.18);
  color: rgba(231,236,255,.82);
}

/* Slider */
.slider{
  position:relative;
  overflow:hidden;
  border-radius: var(--radius);
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.18);
}
.slider-track{
  display:flex;
  transition: transform .6s ease;
  will-change: transform;
}
.slide{
  min-width:100%;
  position:relative;
  aspect-ratio: 16 / 9;
  background: rgba(255,255,255,.03);
}
.slide img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  filter: saturate(1.05) contrast(1.04);
}
.slide:after{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,.05), rgba(0,0,0,.28));
  pointer-events:none;
}
.slider-ui{
  position:absolute;
  inset:auto 12px 12px 12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.dots{display:flex; gap:6px; flex-wrap:wrap}
.sdot{
  width:7px;height:7px;border-radius:99px;
  background: rgba(231,236,255,.35);
  border: 1px solid rgba(255,255,255,.18);
  opacity:.9;
}
.sdot.on{background: rgba(87,217,255,.9); border-color: rgba(87,217,255,.6)}
.navbtns{display:flex; gap:8px}
.iconbtn{
  width:38px;height:38px;border-radius: 999px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.22);
  cursor:pointer;
  display:grid; place-items:center;
}
.iconbtn:hover{background: rgba(255,255,255,.07)}
.iconbtn svg{width:18px;height:18px; opacity:.9}

/* Gallery */
.controls{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
  justify-content:space-between;
  margin: 14px 0 12px;
}
.search{
  flex:1;
  min-width: 220px;
  display:flex;
  gap:10px;
  align-items:center;
  padding: 12px 12px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
}
.search input{
  border:0; outline:0; background:transparent;
  color:var(--text);
  width:100%;
  font-size: 13.5px;
}
.select{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
select{
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  color: var(--text);
  padding: 10px 12px;
  outline:0;
  font-size: 13px;
}
.gallery{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}
@media (max-width: 980px){.gallery{grid-template-columns: repeat(3, 1fr)}}
@media (max-width: 680px){.gallery{grid-template-columns: repeat(2, 1fr)}}
.gitem{
  position:relative;
  border-radius: 16px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  cursor:pointer;
  min-height: 160px;
}
.gitem img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  transform: scale(1.02);
  transition: transform .25s ease;
}
.gitem:hover img{transform: scale(1.06)}
.gcap{
  position:absolute;
  left:10px; right:10px; bottom:10px;
  padding: 10px 10px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
}
.gcap b{display:block; font-size: 12.5px}
.gcap span{display:block; color: rgba(231,236,255,.78); font-size: 11.5px; margin-top:2px}

/* Modal */
.modal{
  position:fixed;
  inset:0;
  display:none;
  place-items:center;
  z-index:50;
  background: rgba(0,0,0,.62);
  backdrop-filter: blur(6px);
}
.modal.open{display:grid}
.modal-card{
  width: min(980px, 92vw);
  max-height: 88vh;
  overflow:hidden;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(10, 14, 28, .78);
  box-shadow: 0 26px 85px rgba(0,0,0,.55);
  display:grid;
  grid-template-columns: 1.15fr .85fr;
}
@media (max-width: 900px){
  .modal-card{grid-template-columns:1fr; max-height: 92vh}
}
.modal-media{
  background: rgba(0,0,0,.25);
  position:relative;
}
.modal-media img{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
  background: rgba(0,0,0,.18);
}
.modal-side{
  padding: 16px;
  overflow:auto;
}
.modal-top{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
}
.modal-top h3{margin:0; font-size:16px}
.modal-top p{margin:5px 0 0; color:var(--muted); font-size: 13px; line-height:1.5}
.close{
  width:38px;height:38px;border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  cursor:pointer;
  display:grid;place-items:center;
}
.close:hover{background: rgba(255,255,255,.09)}
.modal-actions{
  margin-top: 12px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.modal-actions .btn{width:100%}
.modal-actions .btn.primary{justify-content:center}

/* Contact */
.contact-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 18px;
}
@media (max-width: 900px){.contact-grid{grid-template-columns:1fr}}
.contact-item{
  padding: 16px;
  border-radius: var(--radius);
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
}
.contact-item b{display:block; margin-bottom:6px}
.contact-item span{color: var(--muted); font-size: 13px}

/* Footer */
footer{
  padding: 26px 0 34px;
  border-top: 1px solid rgba(255,255,255,.08);
}
.footer-grid{
  display:grid;
  grid-template-columns: 1.2fr .8fr;
  gap: 18px;
  align-items:start;
}
@media (max-width: 900px){.footer-grid{grid-template-columns:1fr}}
.quick{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
}
.social{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:flex-end;
}
@media (max-width: 900px){.social{justify-content:flex-start}}
.soc{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 9px 12px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  font-size: 12px;
  color: rgba(231,236,255,.92);
}
.soc svg{width:16px;height:16px; opacity:.95}

/* Tiny helpers */
hr.hair{border:0; height:1px; background: rgba(255,255,255,.08); margin:14px 0}
.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
</style>
</head>

<body>
  <div class="nav">
    <div class="container">
      <div class="bar">
        <div class="brand">
          <div class="logo"></div>
          <div>Advertising Tarakan</div>
        </div>
        <div class="menu">
          <a class="chip" href="#alur">Alur Kerja</a>
          <a class="chip" href="#galeri">Galeri</a>
          <a class="chip" href="#kontak">Kontak</a>
          <a class="btn primary" href="#galeri">Lihat Galeri</a>
        </div>
      </div>
    </div>
  </div>

  <header>
    <div class="container hero">
      <div>
        <div class="h-eyebrow">DOKUMENTASI ‚Ä¢ PORTOFOLIO ‚Ä¢ PROSES</div>
        <h1 class="h-title">Divisi Advertising</h1>
        <p class="h-sub">
          Produksi & pemasangan kebutuhan advertising: huruf timbul, neon box, papan nama, backdrop, dan lainnya.
          Dokumentasi rapi, cepat, dan mudah dicek‚Äîdengan galeri berbasis JSON.
        </p>

        <div class="hero-actions">
          <button class="btn primary" id="btnExplore">
            SCROLL TO EXPLORE <span class="arrow">‚Üì</span>
          </button>
          <a class="btn" href="#kontak">Kontak Cepat</a>
        </div>

        <div class="badges" id="heroBadges">
          <span class="badge"><span class="dot"></span> Responsif</span>
          <span class="badge"><span class="dot"></span> Gallery JSON</span>
          <span class="badge"><span class="dot"></span> Zoom & Drag</span>
          <span class="badge"><span class="dot"></span> Search & Filter</span>
          <span class="badge"><span class="dot live"></span> Live Preview</span>
        </div>

        <div class="scrollHint">
          <span class="mono" style="opacity:.8">Klik tombol di atas</span>
          <span class="arrow">‚Üì</span>
          <span style="color:var(--muted); font-size:13px">auto scroll pelan</span>
        </div>
      </div>

      <div class="hero-card">
        <div class="inner">
          <div class="label">DOKUMENTASI PEMASANGAN</div>
          <div class="big">Yang Rapi, Cepat, & Mudah Dicek</div>
          <p class="small">Semua data tampil otomatis. Klik item galeri untuk detail & tombol ‚ÄúPesan ini‚Äù.</p>
          <div class="sep"></div>
          <div class="kv">
            <div class="k"><b>Mode</b><span>Auto slider & timeline</span></div>
            <div class="k"><b>Format</b><span>Manifest JSON</span></div>
            <div class="k"><b>Fitur</b><span>Search / Filter</span></div>
            <div class="k"><b>Order</b><span>WhatsApp cepat</span></div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- ALUR KERJA -->
  <section id="alur">
    <div class="container">
      <div class="section-title">
        <div>
          <div class="h-eyebrow">ALUR KERJA</div>
          <h2>Progres dari titik 1 sampai akhir</h2>
        </div>
        <p>Tampilan dibuat seperti ‚Äúmenurun‚Äù dengan bar vertikal & titik proses (timeline).</p>
      </div>

      <div class="grid2">
        <div class="card timeline-wrap">
          <div class="timeline-h">PROSES</div>
          <div class="timeline" id="timeline">
            <div class="titem" data-step="0">
              <div class="tdot"></div>
              <h3>Perencanaan</h3>
              <p>Analisa lokasi & kebutuhan pemasangan.</p>
            </div>
            <div class="titem" data-step="1">
              <div class="tdot"></div>
              <h3>Produksi</h3>
              <p>Pembuatan material sesuai spesifikasi.</p>
            </div>
            <div class="titem" data-step="2">
              <div class="tdot"></div>
              <h3>Pemasangan</h3>
              <p>Eksekusi lapangan oleh tim teknis.</p>
            </div>
            <div class="titem" data-step="3">
              <div class="tdot"></div>
              <h3>Dokumentasi</h3>
              <p>Pengambilan visual sebagai arsip & laporan.</p>
            </div>
          </div>
        </div>

        <div class="card note-box">
          <h3>Catatan Proses (dummy)</h3>
          <p class="small-muted">
            Tambahkan poin penting seperti SOP, checklist, atau standar keamanan. Bagian ini juga bisa dipakai buat
            menaruh ‚Äúportfolio highlights‚Äù.
          </p>

          <div class="tags">
            <span class="tag">Safety first</span>
            <span class="tag">Dokumentasi realtime</span>
            <span class="tag">Material sesuai spek</span>
          </div>

          <hr class="hair">

          <!-- SLIDER (menggantikan status proyek dummy) -->
          <div class="small-muted" style="margin-bottom:10px">
            Highlight dokumentasi (auto slider)
          </div>

          <div class="slider" id="highlightSlider" aria-label="Highlight slider">
            <div class="slider-track" id="sliderTrack"></div>
            <div class="slider-ui">
              <div class="dots" id="sliderDots"></div>
              <div class="navbtns">
                <button class="iconbtn" id="prevSlide" aria-label="Sebelumnya">
                  <svg viewBox="0 0 24 24" fill="none"><path d="M14.5 6L8.5 12L14.5 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </button>
                <button class="iconbtn" id="nextSlide" aria-label="Berikutnya">
                  <svg viewBox="0 0 24 24" fill="none"><path d="M9.5 6L15.5 12L9.5 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- GALERI -->
  <section id="galeri">
    <div class="container">
      <div class="section-title">
        <div>
          <h2>Galeri Dokumentasi</h2>
          <p>Klik item untuk detail, zoom/drag, dan tombol ‚ÄúPesan ini‚Äù.</p>
        </div>
        <div class="small-muted">Sumber: JSON manifest</div>
      </div>

      <div class="controls">
        <div class="search">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M21 21L16.7 16.7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M10.5 18C14.6421 18 18 14.6421 18 10.5C18 6.35786 14.6421 3 10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18Z" stroke="currentColor" stroke-width="2"/></svg>
          <input id="q" placeholder="Cari: huruf timbul, neon box, papan nama..." autocomplete="off">
        </div>
        <div class="select">
          <select id="cat">
            <option value="all">Semua Kategori</option>
          </select>
          <select id="sort">
            <option value="new">Terbaru</option>
            <option value="old">Terlama</option>
            <option value="az">A‚ÄìZ</option>
            <option value="za">Z‚ÄìA</option>
          </select>
        </div>
      </div>

      <div class="gallery" id="gallery"></div>
      <div class="small-muted" id="ginfo" style="margin-top:10px"></div>
    </div>
  </section>

  <!-- KONTAK -->
  <section id="kontak">
    <div class="container">
      <div class="section-title">
        <h2>Kontak</h2>
        <p>Kontak cepat untuk tanya harga, jadwal, dan pemesanan.</p>
      </div>

      <div class="contact-grid">
        <div class="contact-item">
          <b>WhatsApp</b>
          <span id="waNumber">+62 8xx-xxxx-xxxx</span>
          <div style="margin-top:10px">
            <a class="btn primary" id="waBtn" href="#" target="_blank" rel="noopener">üí¨ Chat WhatsApp</a>
          </div>
        </div>

        <div class="contact-item">
          <b>Alamat / Area</b>
          <span>Tarakan & sekitarnya (bisa menyesuaikan).</span>
          <div style="margin-top:10px">
            <a class="btn" href="#galeri">üì∑ Lihat Dokumentasi</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="container footer-grid">
      <div>
        <div class="small-muted">¬© <span id="year"></span> Advertising Tarakan ‚Äî Dokumentasi & Portofolio</div>
        <div style="height:10px"></div>

        <!-- Kontak cepat sejajar menyamping -->
        <div class="quick" aria-label="Kontak cepat">
          <a class="soc" id="footWA" href="#" target="_blank" rel="noopener" title="WhatsApp">
            <svg viewBox="0 0 24 24" fill="none"><path d="M20.5 11.9c0 4.6-3.8 8.4-8.4 8.4-1.4 0-2.7-.3-3.9-1l-4.2 1.4 1.3-4.1c-.7-1.3-1.1-2.8-1.1-4.4 0-4.6 3.8-8.4 8.4-8.4s8.4 3.8 8.4 8.4Z" stroke="currentColor" stroke-width="1.7" stroke-linejoin="round"/><path d="M9.2 9.3c.2-.4.4-.4.7-.4h.5c.2 0 .5.1.6.4.2.4.7 1.7.8 1.8.1.2.1.4 0 .6l-.3.4c-.1.2-.2.3-.1.5.1.2.6 1 1.4 1.6.9.7 1.6.9 1.9 1 .2.1.4.1.5-.1l.6-.7c.2-.2.4-.2.6-.1.2.1 1.4.6 1.7.8.2.1.4.2.4.4 0 .2 0 1.2-.6 1.7-.6.5-1.2.6-1.6.5-.4-.1-1.4-.3-2.7-.9-1.6-.7-2.7-2.4-2.8-2.5-.1-.2-1.1-1.5-1.1-2.8 0-1.4.7-2 1-2.3Z" fill="currentColor" opacity=".85"/></svg>
            WhatsApp
          </a>

          <a class="soc" href="#galeri" title="Galeri">üñºÔ∏è Galeri</a>
          <a class="soc" href="#alur" title="Alur">üß© Alur</a>
          <a class="soc" href="#kontak" title="Kontak">üìû Kontak</a>
        </div>
      </div>

      <!-- Sosmed tetap tampil -->
      <div class="social" aria-label="Sosial media">
        <a class="soc" href="#" id="socIG" target="_blank" rel="noopener" title="Instagram">
          <svg viewBox="0 0 24 24" fill="none"><path d="M7 3h10a4 4 0 0 1 4 4v10a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V7a4 4 0 0 1 4-4Z" stroke="currentColor" stroke-width="2"/><path d="M12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z" stroke="currentColor" stroke-width="2"/><path d="M17.5 6.5h.01" stroke="currentColor" stroke-width="3" stroke-linecap="round"/></svg>
          Instagram
        </a>
        <a class="soc" href="#" id="socTT" target="_blank" rel="noopener" title="TikTok">
          <svg viewBox="0 0 24 24" fill="none"><path d="M14 3v11.2a4.8 4.8 0 1 1-4-4.7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M14 6c1.2 2.6 3.1 4.1 6 4.2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          TikTok
        </a>
        <a class="soc" href="#" id="socYT" target="_blank" rel="noopener" title="YouTube">
          <svg viewBox="0 0 24 24" fill="none"><path d="M21 7.5a3 3 0 0 0-2.1-2.1C17.2 5 12 5 12 5s-5.2 0-6.9.4A3 3 0 0 0 3 7.5 31 31 0 0 0 3 12a31 31 0 0 0 .1 4.5 3 3 0 0 0 2.1 2.1C6.8 19 12 19 12 19s5.2 0 6.9-.4A3 3 0 0 0 21 16.5 31 31 0 0 0 21 12a31 31 0 0 0 0-4.5Z" stroke="currentColor" stroke-width="2"/><path d="M10 9.5 15 12l-5 2.5v-5Z" fill="currentColor" opacity=".9"/></svg>
          YouTube
        </a>
      </div>
    </div>
  </footer>

  <!-- MODAL -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true">
      <div class="modal-media">
        <img id="mImg" alt="">
      </div>
      <div class="modal-side">
        <div class="modal-top">
          <div>
            <h3 id="mTitle">Judul</h3>
            <p id="mDesc">Deskripsi singkat.</p>
          </div>
          <button class="close" id="mClose" aria-label="Tutup">
            ‚úï
          </button>
        </div>

        <hr class="hair">

        <div class="small-muted">Link</div>
        <div style="margin-top:6px; word-break:break-word">
          <a id="mLink" href="#" target="_blank" rel="noopener" class="mono" style="font-size:12px; color:rgba(231,236,255,.9)"></a>
        </div>

        <!-- tombol PESAN INI (baru) -->
        <div class="modal-actions">
          <a class="btn primary" id="mOrder" href="#" target="_blank" rel="noopener">üí¨ Pesan ini</a>
          <a class="btn" id="mOpen" href="#" target="_blank" rel="noopener">üîó Buka gambar</a>
        </div>

        <p class="small-muted" style="margin-top:10px">
          Tip: kamu bisa ganti template pesan WhatsApp di script (lebih rapi + emoji).
        </p>
      </div>
    </div>
  </div>

<script>
/* =========================
   KONFIG
========================= */
const WA_NUMBER = "628xxxxxxx"; // <-- GANTI nomor WA tanpa + (contoh 6281234567890)
const MANIFEST_URLS = [
  "gallery-manifest.json",
  "manifest.json",
  "assets/manifest.json"
];

// 2 gambar wajib + 5 random dari manifest
const FIXED_HIGHLIGHTS = [
  "https://raw.githubusercontent.com/advertisingtarakan/advertisingtarakan.github.io/refs/heads/main/huruf-timbul/2026-01-27__palang-balai-perikananaca__1769507561182.png",
  "https://raw.githubusercontent.com/advertisingtarakan/advetesss82.png"
];

/* =========================
   UTIL
========================= */
const $ = (q, el=document)=> el.querySelector(q);
const $$ = (q, el=document)=> Array.from(el.querySelectorAll(q));

function waLink(text){
  const t = encodeURIComponent(text);
  return `https://wa.me/${WA_NUMBER}?text=${t}`;
}

function prettyCat(x){
  if(!x) return "Lainnya";
  return String(x).replace(/[-_]/g,' ').replace(/\b\w/g, m=>m.toUpperCase());
}

function pickRandom(arr, n){
  const copy = arr.slice();
  for(let i=copy.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [copy[i],copy[j]] = [copy[j],copy[i]];
  }
  return copy.slice(0, n);
}

function normalizeItems(raw){
  // Terima banyak bentuk: array langsung, {items:[]}, {data:[]}
  let items = [];
  if(Array.isArray(raw)) items = raw;
  else if(raw && Array.isArray(raw.items)) items = raw.items;
  else if(raw && Array.isArray(raw.data)) items = raw.data;
  else items = [];

  // Normalisasi field umum: title/name, url/src/image, category/tag, date
  return items
    .map((it, idx) => {
      const title = it.title || it.name || it.nama || it.judul || `Item ${idx+1}`;
      const url = it.url || it.src || it.image || it.img || it.link || "";
      const category = it.category || it.kategori || it.tag || it.type || "Lainnya";
      const date = it.date || it.tanggal || it.created || it.time || "";
      const desc = it.desc || it.deskripsi || it.caption || "";
      return { id: it.id ?? idx, title, url, category, date, desc, _raw: it };
    })
    .filter(x => x.url);
}

async function fetchFirstJSON(urls){
  for(const u of urls){
    try{
      const r = await fetch(u, {cache:"no-store"});
      if(!r.ok) continue;
      const j = await r.json();
      return {json:j, from:u};
    }catch(e){}
  }
  return {json:null, from:null};
}

/* =========================
   HERO: SCROLL TO EXPLORE (slow)
========================= */
(function(){
  const btn = $("#btnExplore");
  btn?.addEventListener("click", (e)=>{
    e.preventDefault();
    slowScrollTo(document.querySelector("#alur"), 1800); // lambat banget
  });

  function slowScrollTo(el, duration=1600){
    if(!el) return;
    const start = window.scrollY;
    const end = el.getBoundingClientRect().top + window.scrollY - 90;
    const change = end - start;
    const startTime = performance.now();

    function easeInOut(t){
      return t<.5 ? 2*t*t : 1 - Math.pow(-2*t+2,2)/2;
    }
    function animate(now){
      const elapsed = now - startTime;
      const p = Math.min(1, elapsed/duration);
      const eased = easeInOut(p);
      window.scrollTo(0, start + change*eased);
      if(p<1) requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);
  }
})();

/* =========================
   TIMELINE: bulatan menyala satu-satu
========================= */
(function(){
  const items = $$("#timeline .titem");
  let step = 0;

  function render(){
    items.forEach((el, i)=>{
      el.classList.remove("active","done");
      if(i < step) el.classList.add("done");
      if(i === step) el.classList.add("active");
    });
  }
  function next(){
    step++;
    if(step >= items.length){
      // selesai -> hilangkan active sebentar, lalu loop lagi dari awal
      step = items.length-1;
      render();
      setTimeout(()=>{
        step = 0;
        render();
      }, 900);
      return;
    }
    render();
  }

  render();
  setInterval(next, 1400);
})();

/* =========================
   SLIDER HIGHLIGHT (2 fixed + 5 random from manifest)
========================= */
let MANIFEST_ITEMS = [];     // hasil normalizeItems()
let MANIFEST_FROM = null;    // sumber manifest yang kepakai
let HIGHLIGHT_IMAGES = [];   // final list: fixed + random

const sliderTrack = $("#sliderTrack");
const sliderDots  = $("#sliderDots");
const btnPrev     = $("#prevSlide");
const btnNext     = $("#nextSlide");

let slideIndex = 0;
let slideTimer = null;

function buildHighlights(items){
  // ambil 5 random dari manifest (kalau ada)
  const random5 = items && items.length ? pickRandom(items, Math.min(5, items.length)).map(x=>x.url) : [];
  // gabungkan: 2 fixed + 5 random, hilangkan duplikat kosong
  const merged = [...FIXED_HIGHLIGHTS, ...random5].filter(Boolean);
  const uniq = [];
  const seen = new Set();
  merged.forEach(u=>{
    const key = String(u).trim();
    if(!key) return;
    if(seen.has(key)) return;
    seen.add(key);
    uniq.push(key);
  });
  return uniq;
}

function renderSlider(images){
  if(!sliderTrack || !sliderDots) return;

  sliderTrack.innerHTML = "";
  sliderDots.innerHTML = "";

  images.forEach((src, i)=>{
    const s = document.createElement("div");
    s.className = "slide";
    s.innerHTML = `<img loading="lazy" src="${src}" alt="Highlight ${i+1}">`;
    sliderTrack.appendChild(s);

    const d = document.createElement("div");
    d.className = "sdot" + (i===0 ? " on" : "");
    d.addEventListener("click", ()=> goToSlide(i, true));
    sliderDots.appendChild(d);
  });

  slideIndex = 0;
  applySlider();
}

function applySlider(){
  if(!sliderTrack) return;
  sliderTrack.style.transform = `translateX(${-slideIndex * 100}%)`;

  // dots
  const dots = $$("#sliderDots .sdot");
  dots.forEach((el, i)=> el.classList.toggle("on", i === slideIndex));
}

function goToSlide(i, user=false){
  if(!HIGHLIGHT_IMAGES.length) return;
  slideIndex = (i + HIGHLIGHT_IMAGES.length) % HIGHLIGHT_IMAGES.length;
  applySlider();
  if(user) restartSlider();
}

function nextSlide(user=false){ goToSlide(slideIndex + 1, user); }
function prevSlide(user=false){ goToSlide(slideIndex - 1, user); }

function startSlider(){
  stopSlider();
  if(HIGHLIGHT_IMAGES.length <= 1) return;
  slideTimer = setInterval(()=> nextSlide(false), 3200);
}
function stopSlider(){
  if(slideTimer) clearInterval(slideTimer);
  slideTimer = null;
}
function restartSlider(){
  startSlider();
}

// tombol prev/next
btnNext?.addEventListener("click", ()=> nextSlide(true));
btnPrev?.addEventListener("click", ()=> prevSlide(true));

// pause saat hover (biar enak)
$("#highlightSlider")?.addEventListener("mouseenter", stopSlider);
$("#highlightSlider")?.addEventListener("mouseleave", startSlider);


/* =========================
   GALLERY + MODAL (JSON manifest, search/filter/sort, zoom/drag, pesan WA)
========================= */
const galleryEl = $("#gallery");
const infoEl = $("#ginfo");
const qEl = $("#q");
const catEl = $("#cat");
const sortEl = $("#sort");

const modal = $("#modal");
const mImg = $("#mImg");
const mTitle = $("#mTitle");
const mDesc = $("#mDesc");
const mLink = $("#mLink");
const mOpen = $("#mOpen");
const mOrder = $("#mOrder");
const mClose = $("#mClose");

// WA UI di kontak + footer
(function initWA(){
  // tampilkan nomor di UI (format sederhana)
  const pretty = WA_NUMBER.startsWith("62") ? `+${WA_NUMBER}` : WA_NUMBER;
  $("#waNumber") && ($("#waNumber").textContent = pretty);

  const baseText = `Halo üëã\nSaya mau tanya layanan Advertising Tarakan.\n\nBoleh dibantu info harga & jadwal? üôè`;
  const href = waLink(baseText);

  $("#waBtn") && ($("#waBtn").href = href);
  $("#footWA") && ($("#footWA").href = href);
})();

// manifest -> render kategori
function fillCategories(items){
  if(!catEl) return;
  const cats = Array.from(new Set(items.map(x=>x.category).filter(Boolean))).sort((a,b)=>String(a).localeCompare(String(b)));
  catEl.innerHTML = `<option value="all">Semua Kategori</option>` + cats.map(c=>{
    const v = String(c);
    return `<option value="${escapeHtml(v)}">${escapeHtml(prettyCat(v))}</option>`;
  }).join("");
}

function sortItems(items, mode){
  const arr = items.slice();
  const byDate = (a,b)=>{
    // coba parse date; kalau gagal -> fallback string
    const da = Date.parse(a.date || "") || 0;
    const db = Date.parse(b.date || "") || 0;
    return da - db;
  };
  const byTitle = (a,b)=> String(a.title||"").localeCompare(String(b.title||""), "id", {sensitivity:"base"});

  if(mode === "old") arr.sort((a,b)=> byDate(a,b));              // lama -> baru
  else if(mode === "az") arr.sort((a,b)=> byTitle(a,b));         // A-Z
  else if(mode === "za") arr.sort((a,b)=> -byTitle(a,b));        // Z-A
  else arr.sort((a,b)=> -byDate(a,b));                           // default "new" -> baru dulu

  return arr;
}

function filterItems(items){
  const q = (qEl?.value || "").trim().toLowerCase();
  const c = catEl?.value || "all";
  let out = items;

  if(c !== "all"){
    out = out.filter(x => String(x.category||"").toLowerCase() === String(c).toLowerCase());
  }
  if(q){
    out = out.filter(x=>{
      const hay = `${x.title||""} ${x.desc||""} ${x.category||""}`.toLowerCase();
      return hay.includes(q);
    });
  }

  const s = sortEl?.value || "new";
  out = sortItems(out, s);

  return out;
}

function renderGallery(){
  if(!galleryEl) return;
  const list = filterItems(MANIFEST_ITEMS);

  galleryEl.innerHTML = "";
  list.forEach((it)=>{
    const div = document.createElement("div");
    div.className = "gitem";
    div.innerHTML = `
      <img loading="lazy" src="${escapeHtml(it.url)}" alt="${escapeHtml(it.title)}">
      <div class="gcap">
        <b>${escapeHtml(it.title)}</b>
        <span>${escapeHtml(prettyCat(it.category))}${it.date ? " ‚Ä¢ " + escapeHtml(String(it.date)) : ""}</span>
      </div>
    `;
    div.addEventListener("click", ()=> openModal(it));
    galleryEl.appendChild(div);
  });

  if(infoEl){
    const src = MANIFEST_FROM ? ` ‚Ä¢ dari: ${MANIFEST_FROM}` : "";
    infoEl.textContent = `${list.length} item tampil${src}`;
  }
}

qEl?.addEventListener("input", renderGallery);
catEl?.addEventListener("change", renderGallery);
sortEl?.addEventListener("change", renderGallery);

/* ===== MODAL: zoom & drag ===== */
let zoom = 1;
let panX = 0;
let panY = 0;
let dragging = false;
let startX = 0;
let startY = 0;

function applyTransform(){
  if(!mImg) return;
  mImg.style.transform = `translate(${panX}px, ${panY}px) scale(${zoom})`;
  mImg.style.transformOrigin = "center center";
  mImg.style.cursor = dragging ? "grabbing" : "grab";
}

function resetTransform(){
  zoom = 1;
  panX = 0;
  panY = 0;
  applyTransform();
}

function templateOrderText(item){
  const title = item?.title || "Produk";
  const url = item?.url || "";
  const cat = item?.category ? prettyCat(item.category) : "-";
  const date = item?.date ? String(item.date) : "-";

  // template WA: rapi + emoji
  return (
`Halo üëã *Advertising Tarakan*!

Saya mau pesan *${title}* ‚ú®
üßæ Kategori: ${cat}
üìÖ Tanggal: ${date}
üñºÔ∏è Referensi: ${url}

Boleh dibantu proses pemesanannya? üôè`
  );
}

function openModal(item){
  if(!modal) return;
  modal.classList.add("open");
  modal.setAttribute("aria-hidden", "false");

  // isi
  mTitle && (mTitle.textContent = item.title || "Detail");
  mDesc && (mDesc.textContent = item.desc || `Kategori: ${prettyCat(item.category)}${item.date ? " ‚Ä¢ " + item.date : ""}`);

  if(mImg){
    mImg.src = item.url;
    mImg.alt = item.title || "Dokumentasi";
  }

  if(mLink){
    mLink.href = item.url;
    mLink.textContent = item.url;
  }
  mOpen && (mOpen.href = item.url);

  // tombol "Pesan ini"
  if(mOrder){
    const text = templateOrderText(item);
    mOrder.href = waLink(text);
  }

  resetTransform();
}

function closeModal(){
  modal?.classList.remove("open");
  modal?.setAttribute("aria-hidden", "true");
}

mClose?.addEventListener("click", closeModal);
modal?.addEventListener("click", (e)=>{
  if(e.target === modal) closeModal();
});
document.addEventListener("keydown", (e)=>{
  if(e.key === "Escape") closeModal();
});

// zoom wheel
mImg?.addEventListener("wheel", (e)=>{
  e.preventDefault();
  const delta = e.deltaY * -0.0012;
  zoom = Math.max(0.6, Math.min(6, zoom + delta));
  applyTransform();
},{passive:false});

// drag
mImg?.addEventListener("mousedown", (e)=>{
  dragging = true;
  startX = e.clientX;
  startY = e.clientY;
  applyTransform();
});
window.addEventListener("mouseup", ()=>{
  dragging = false;
  applyTransform();
});
window.addEventListener("mousemove", (e)=>{
  if(!dragging) return;
  panX += (e.clientX - startX);
  panY += (e.clientY - startY);
  startX = e.clientX;
  startY = e.clientY;
  applyTransform();
});
mImg?.addEventListener("dblclick", resetTransform);


/* =========================
   FETCH MANIFEST + INIT UI
========================= */
function escapeHtml(str){
  return String(str).replace(/[&<>"']/g, m=>({
    "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
  }[m]));
}

(async function init(){
  // tahun footer
  $("#year") && ($("#year").textContent = new Date().getFullYear());

  // Fetch manifest pertama yang ketemu
  const {json, from} = await fetchFirstJSON(MANIFEST_URLS);
  MANIFEST_FROM = from;

  MANIFEST_ITEMS = json ? normalizeItems(json) : [];

  // build slider highlight (2 fixed + 5 random)
  HIGHLIGHT_IMAGES = buildHighlights(MANIFEST_ITEMS);
  renderSlider(HIGHLIGHT_IMAGES);
  startSlider();

  // kategori & galeri
  fillCategories(MANIFEST_ITEMS);
  renderGallery();

  // fallback kalau manifest kosong: tetap tampil minimal dari fixed
  if(!MANIFEST_ITEMS.length && infoEl){
    infoEl.textContent = "Manifest tidak ditemukan (pakai highlight default). Pastikan manifest.json / gallery-manifest.json tersedia.";
  }
})();
</script>
</body>
</html>

